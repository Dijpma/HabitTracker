<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<!-- <link rel="stylesheet" type="text/css" href="../CSS/main.css"> -->
    <link rel="stylesheet" type="text/css" href="../CSS/mainPage.css">
	<title>Habit Tracker</title>
</head>

<body>
		<!-- <div class="sidebar">
			<div class="sidebarButton">
			Graph
			</div>
			<div class="sidebarButton">
			Calender
			</div>
			<div class="sidebarButton">
			Bad Habits
			</div>
			<div class="sidebarButton">
			Good Habits
			</div>
		</div> -->

<main>
	<div>
		<h1>
            New Habit
        </h1>
        <div id="myDIV" class="Makehabbit">

            <form id="taskform">

                Habit: <input id="taskname" type="text" placeHolder="Some Habits">

                <textarea id="taskdesc" rows="4" cols="50" name="comment" form="usrform"  placeHolder="Description here ..."></textarea> 

                <div>
                    <label for="priority"> Good or Bad: </label>
                    <input type="radio" id="star1" name="priority" value="Good" checked/><label for="star1" title="Not very important">Good</label>
                    <input type="radio" id="star2" name="priority" value="Bad"/><label for="star2" title="Kinda important">Bad</label>
                </div>

                <br>

                Starting Date: <input id="deadlinedate" type="date" placeHolder="01-01-2017" >
                Times you want to do it: <input type="number" id="reminderdays" min="0" placeHolder="3 times" > 

                <span type="button" id="sBtn" value="Add Habit" onclick="newElement()" class="addBtn" >Add Habit</span>
                <input type="reset" value="Clear">

            </form>
        </div>

    </div>

    
    <div class="habitList">

        <h2>Habits List </h2>

        <ul id="myUL">

        </ul>


    </div>
</main>

  <footer>
    Copyright &copy;
        <a href="#">Contact</a>
    <button style="float:righ">Export</button>
    |
    <button style="float:righ">Share</button>
    |
    <button style="float:righ">Sign Out</button>
  </footer>


<script>
// Create a "close" button and append it to each list item
var myNodelist = document.getElementsByTagName("LI");
// Click on a close button to hide the current list item
function registerEventListener () {
    var close = document.getElementsByClassName("close");
    var i;
    for (i = 0; i < close.length; i++) {
      close[i].onclick = function() {
        var div = this.parentElement;
        div.style.display = "none";
      };
    }
}

// Create a new list item when clicking on the "Add" button
function newElement() {
  var li = document.createElement("li");
  var inputValue = document.getElementById("taskname").value;
  var inputDescription = document.getElementById("taskdesc").value;
  //var inputStar1 = document.getElementById("star1");
  //var inputStar2 = document.getElementById("star2");
  var inputDate = document.getElementById("deadlinedate").value;
  var inputReminderDays = document.getElementById("reminderdays").value;

  //var inputStar = inputStar1.checked ? inputStar1.value : inputStar2.value;


  /*var t1 = document.createTextNode(
      inputValue +
      inputDescription
  );*/


    var t1 = document.createTextNode(
        inputValue
    );

    var t2 = document.createTextNode(
        inputDescription
    );


    var div1 = document.createElement("div");
    div1.appendChild(t1);

    var div2 = document.createElement("div");
    div2.appendChild(t2);

  var para = document.createElement("P");
  para.appendChild(div1);
    para.appendChild(div2);
  li.appendChild(para);

  var canEdit = false;

  var close_span = document.createElement("SPAN");
  var close_span_X = document.createTextNode("\u00D7");


  var editButton = document.createElement("button");
  var t = document.createTextNode("Edit");
  editButton.appendChild(t);
  editButton.id = "btnDIV";
  var elem = document.getElementById("btnDIV");
  editButton.onclick = function () {
      if(canEdit) {
          para.contentEditable = "false";
          para.style.color = "black";
          canEdit = false;
          editButton.textContent = "Edit";
      } else {
          para.contentEditable = "true";
          canEdit = true;
          para.style.color = "green";
          editButton.textContent = "Save";
      }
  };
  li.appendChild(editButton);


  //error message
  close_span.className = "close";
  close_span.appendChild(close_span_X);
  li.appendChild(close_span);
  if (
    inputValue === "" ||
    inputDescription === "" ||
    inputReminderDays === "" ||
    inputDate === ""
  ) {
    alert("Your fields are empty, please write something!");
  }
  else {
    document.getElementById("myUL").appendChild(li);
    registerEventListener();
  }


  document.getElementById("taskname").value = "";
  document.getElementById("taskdesc").value = "";
  document.getElementById("star").value = "";
  document.getElementById("deadlinedate").value = "";
  document.getElementById("reminderdays").value = "";

  // Delete button
  var span = document.createElement("SPAN");
  var txt = document.createTextNode("\u00D7");
  span.className = "close";
  span.appendChild(txt);
  li.appendChild(span);
  for (i = 0; i < close.length; i++) {
    close[i].onclick = function() {
      var div = this.parentElement;
      div.style.display = "none";
    };
  }
}

registerEventListener();

function Habit(name, description, positive, reminder, deadline) {
    this.name = name;
    this.description = description;
    this.positive = positive;
    this.createionDate = new Date();
    this.reminderDays = reminder;
    this.deadlineDate = deadline;
    this.frequency;
}
// Setters
Habit.prototype.setName = function(n){this.name = n;};
Habit.prototype.setDescription = function (d) {this.description = d;};
Habit.prototype.setPositive = function (pos) {
    this.positive = pos;
};
Habit.prototype.setFrequency = function (freq) {
    this.frequency = freq;
};
// Getters
Habit.prototype.getName = function () {
    return this.name;
};
Habit.prototype.getDescription = function () {
    return this.description;
};
Habit.prototype.isPositive = function () {
    return this.positive;
};
Habit.prototype.getFrequency = function () {
    return this.frequency;
};
Habit.prototype.getDate = function () {
    return this.createionDate;
};
Habit.prototype.getReminderDay = function () {
    return this.reminderDays;
};
Habit.prototype.getDeadline = function () {
    return this.deadlineDate;
};

function createInput(ph,id) {
    var input = document.createElement("input");
    input.type = "text";
    input.placeholder = ph;
    input.className = "edit";
    input.id = id;
    return input;
}



</script>
</body>
</html>