<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<!-- <link rel="stylesheet" type="text/css" href="../CSS/main.css"> -->
    <link rel="stylesheet" type="text/css" href="../CSS/mainPage.css">
	<title>Habit Tracker</title>
</head>

<body>
		<!-- <div class="sidebar">
			<div class="sidebarButton">
			Graph
			</div>
			<div class="sidebarButton">
			Calender
			</div>
			<div class="sidebarButton">
			Bad Habits
			</div>
			<div class="sidebarButton">
			Good Habits
			</div>
		</div> -->

<main>
	<div>
		<h1>
            New Habit
        </h1>
        <div id="myDIV" class="Makehabbit">

            <form id="taskform">

                Habit: <input id="taskname" type="text" placeHolder="Some Habits">

                <textarea id="taskdesc" rows="4" cols="50" name="comment" form="usrform"  placeHolder="Description here ..."></textarea> 

                <div>
                    <label for="priority"> Good or Bad: </label>
                    <input type="radio" id="star1" name="priority" value="Good" checked/><label for="star1" title="Not very important">Good</label>
                    <input type="radio" id="star2" name="priority" value="Bad"/><label for="star2" title="Kinda important">Bad</label>
                </div>

                <br>

                Starting Date: <input id="deadlinedate" type="date" placeHolder="01-01-2017" >
                Times you want to do it: <input type="number" id="reminderdays" min="0" placeHolder="3 times" > 

                <span type="button" id="sBtn" value="Add Habit" onclick="newElement()" class="addBtn" >Add Habit</span>
                <input type="reset" value="Clear">

            </form>
        </div>

    </div>

    
    <div class="habitList">

        <h2>Habits List </h2>
        <!-- <div class="title" id="Habitlist">
            <ul class="habitSlist">
                <li>
                    <div>
                        <div class="tasklist-name">
                            <b>Habit 1</b>
                        </div>

                        <div class="tasklist-desc">
                            Description
                        </div>

                        <div class="tasklist-deadline">
                            Bad
                        </div>

                         <div class="tasklist-deadline">
                            23/11/2016
                        </div> 

                        <div class="tasklist-deadline">
                            20
                        </div>

                    </div>
                </li>
            </ul>
        </div> -->
        <ul id="myUL">
            
        </ul>


    </div>
</main>

  <footer>
    Copyright &copy;
        <a href="#">Contact</a>
    <button style="float:righ">Export</button>
    |
    <button style="float:righ">Share</button>
    |
    <button style="float:righ">Sign Out</button>
  </footer>


<script>
// Create a "close" button and append it to each list item
var myNodelist = document.getElementsByTagName("LI");
// var i;
// for (i = 0; i < myNodelist.length; i++) {
//   var span = document.createElement("SPAN");
//   var txt = document.createTextNode("\u00D7");
//   span.className = "close";
//   span.appendChild(txt);
//   myNodelist[i].appendChild(span);
// }

// Click on a close button to hide the current list item
function registerEventListener () {
  var close = document.getElementsByClassName("close");
var i;
for (i = 0; i < close.length; i++) {
  close[i].onclick = function() {
    var div = this.parentElement;
    div.style.display = "none";
  };
}
}
// Add a "checked" symbol when clicking on a list item
var list = document.querySelector("ul");
list.addEventListener(
  "click",
  function(ev) {
    if (ev.target.tagName === "LI") {
      ev.target.classList.toggle("checked");
    }
  },
  false
);

// Create a new list item when clicking on the "Add" button
function newElement() {
  var li = document.createElement("li");
  var inputValue = document.getElementById("taskname").value;
  var inputDescription = document.getElementById("taskdesc").value;
  var inputStar1 = document.getElementById("star1");
  var inputStar2 = document.getElementById("star2");
  var inputDate = document.getElementById("deadlinedate").value;
  var inputReminderDays = document.getElementById("reminderdays").value;

  var inputStar = inputStar1.checked ? inputStar1.value : inputStar2.value;

  var t1 = document.createTextNode(
    inputValue +
      ", " +
      inputDescription +
      ", " +
      inputStar +
      ", " +
      inputDate +
      ", " +
      inputReminderDays
  );
  li.appendChild(t1);
  var close_span = document.createElement("SPAN");
  var close_span_X = document.createTextNode("\u00D7");
  close_span.className = "close";
  close_span.appendChild(close_span_X);
  li.appendChild(close_span);
  if (
    inputValue === "" ||
    inputDescription === "" ||
    inputReminderDays === "" ||
    inputDate === ""
  ) {
    alert("Your fields are empty, please write something!");
  } else {
    document.getElementById("myUL").appendChild(li);
    registerEventListener();
  }
  document.getElementById("taskname").value = "";
  document.getElementById("taskdesc").value = "";
  document.getElementById("star").value = "";
  document.getElementById("deadlinedate").value = "";
  document.getElementById("reminderdays").value = "";

  var span = document.createElement("SPAN");
  var txt = document.createTextNode("\u00D7");
  span.className = "close";
  span.appendChild(txt);
  li.appendChild(span);

  for (i = 0; i < close.length; i++) {
    close[i].onclick = function() {
      var div = this.parentElement;
      div.style.display = "none";
    };
  }
}

registerEventListener();

</script>
</body>
</html>